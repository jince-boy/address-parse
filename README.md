# Smart Address Parse | æ™ºèƒ½åœ°å€è§£æåº“


ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ™ºèƒ½åœ°å€è§£æåº“ï¼Œä¸“ä¸ºè§£ææ ¼å¼ä¸ç»Ÿä¸€çš„ä¸­æ–‡åœ°å€è®¾è®¡ã€‚å®ƒå¯ä»¥ä»å¤æ‚çš„ã€éç»“æ„åŒ–çš„æ–‡æœ¬ä¸­å‡†ç¡®åœ°æå–å‡ºå§“åã€æ‰‹æœºå·ã€é‚®ç¼–ã€çœã€å¸‚ã€åŒºä»¥åŠè¯¦ç»†åœ°å€ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§ (Features)

*   **é«˜ç²¾åº¦è§£æ**: èƒ½å¤Ÿå¤„ç†å„ç§å¤æ‚çš„ã€å£è¯­åŒ–çš„åœ°å€æ ¼å¼ã€‚
*   **æ ¸å¿ƒä¿¡æ¯æå–**: è½»æ¾æå–å§“åã€æ‰‹æœºå·ã€é‚®ç¼–ã€‚
*   **å¤šçº§åœ°å€è¯†åˆ«**: å®Œæ•´è§£æä¸­å›½å¤§é™†çš„çœã€å¸‚ã€åŒºä¸‰çº§è¡Œæ”¿åŒºåˆ’ï¼Œå¹¶èƒ½è¯†åˆ«å‡ºå¯¹åº”çš„è¡Œæ”¿åŒºåˆ’ä»£ç ã€‚
*   **ä¸¤ç§è§£ææ¨¡å¼**:
    *   `æ­£åˆ™åŒ¹é…æ¨¡å¼`: é€Ÿåº¦å¿«ï¼Œé€‚ç”¨äºå¤§éƒ¨åˆ†æ ‡å‡†æ ¼å¼ã€‚
    *   `æ ‘æŸ¥æ‰¾æ¨¡å¼`: ç²¾åº¦æ›´é«˜ï¼Œé€šè¿‡åœ°å€åº“è¿›è¡Œæ·±åº¦åŒ¹é…ï¼Œèƒ½å¤„ç†æ›´å¤æ‚çš„åˆ«åå’Œç®€ç§°ã€‚
*   **é«˜åº¦å¯å®šåˆ¶**: æ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤è¯ã€è‡ªå®šä¹‰åœ°å€æ•°æ®ç­‰ã€‚
*   **å¤šç¯å¢ƒæ”¯æŒ**: å¯ä»¥åœ¨æµè§ˆå™¨å’Œ Node.js ç¯å¢ƒä¸­æ— ç¼ä½¿ç”¨ã€‚

## ğŸš€ å¦‚ä½•ä½¿ç”¨ (Usage)

### 1. åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨

é¦–å…ˆï¼Œæ‰“åŒ…ç”Ÿæˆåº“æ–‡ä»¶ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
pnpm build:lib
```

è¿™ä¼šåœ¨ `dist/lib/` ç›®å½•ä¸‹ç”Ÿæˆ `address-parse.umd.js` æ–‡ä»¶ã€‚ç„¶ååœ¨ HTML ä¸­é€šè¿‡ `<script>` æ ‡ç­¾å¼•å…¥ï¼š

```html
<script src="path/to/dist/lib/address-parse.umd.js"></script>
<script>
  const text = 'æ”¶ä»¶äºº: å¼ ä¸‰ æ‰‹æœºå·ç : 13812345678 é‚®ç¼–: 100000 åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½é—¨å¤–å¤§è¡—1å·';

  // AddressParse æ˜¯æš´éœ²çš„å…¨å±€å˜é‡
  const { parse } = AddressParse.useAddressParse();
  const result = parse(text);

  console.log(result);
  /*
  {
    "phone": "13812345678",
    "postalCode": "100000",
    "province": "åŒ—äº¬å¸‚",
    "city": "åŒ—äº¬å¸‚",
    "area": "æœé˜³åŒº",
    "detail": "å»ºå›½é—¨å¤–å¤§è¡—1å·",
    "name": "å¼ ä¸‰",
    "provinceCode": "11",
    "cityCode": "1101",
    "areaCode": "110105"
  }
  */
</script>
```

### 2. åœ¨ Node.js æˆ–å‰ç«¯é¡¹ç›®ä¸­ä½¿ç”¨ (é€šè¿‡ NPM)

> **æ³¨æ„**: å½“å‰é¡¹ç›®æœªå‘å¸ƒåˆ° NPMã€‚ä»¥ä¸‹ä¸ºæœªæ¥å‘å¸ƒåçš„ä½¿ç”¨æ–¹å¼ã€‚

é¦–å…ˆï¼Œé€šè¿‡ npm/pnpm/yarn å®‰è£…:

```bash
pnpm add smart-address-parse # å‡è®¾åŒ…åä¸º smart-address-parse
```

ç„¶åï¼Œåœ¨ä½ çš„ä»£ç ä¸­å¯¼å…¥å¹¶ä½¿ç”¨:

```javascript
import { useAddressParse } from 'smart-address-parse';

const { parse } = useAddressParse();

const text = 'æ”¶ä»¶äºº: å¼ ä¸‰ æ‰‹æœºå·ç : 13812345678 é‚®ç¼–: 100000 åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½é—¨å¤–å¤§è¡—1å·';
const result = parse(text);

console.log(result);
```

## ğŸ“š API å‚è€ƒ (API Reference)

### `useAddressParse(defaultOptions?)`

åˆå§‹åŒ–è§£æå™¨å¹¶è¿”å›ä¸€ä¸ªåŒ…å« `parse` å‡½æ•°çš„å¯¹è±¡ã€‚

*   `defaultOptions` (`ParseOptions`, å¯é€‰): å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ä¼ å…¥é»˜è®¤çš„é…ç½®é€‰é¡¹ã€‚

**è¿”å›**: `{ parse: (address: string, options?: ParseOptions | number) => ParseResult }`

### `parse(address, options?)`

æ ¸å¿ƒè§£æå‡½æ•°ã€‚

*   `address` (`string`, å¿…é€‰): éœ€è¦è§£æçš„åŸå§‹åœ°å€å­—ç¬¦ä¸²ã€‚
*   `options` (`ParseOptions | number`, å¯é€‰): æœ¬æ¬¡è§£æçš„é…ç½®é€‰é¡¹ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªæ•°å­—ï¼Œå®ƒå°†è¢«è§†ä¸º `type` é€‰é¡¹ã€‚

### `ParseOptions` æ¥å£

| é€‰é¡¹å          | ç±»å‹                               | é»˜è®¤å€¼ | æè¿°                                                               |
| --------------- | ---------------------------------- | ------ | ------------------------------------------------------------------ |
| `type`          | `0` \| `1`                         | `0`    | è§£ææ¨¡å¼ã€‚`0` ä¸ºæ­£åˆ™åŒ¹é…ï¼Œ`1` ä¸ºæ ‘æŸ¥æ‰¾ã€‚                           |
| `debug`         | `boolean`                          | `false`| æ˜¯å¦å¼€å¯è°ƒè¯•æ¨¡å¼ã€‚å¼€å¯åä¼šåœ¨æ§åˆ¶å°æ‰“å°è¯¦ç»†çš„è§£æè¿‡ç¨‹ã€‚             |
| `nameMaxLength` | `number`                           | `4`    | è¯†åˆ«ä¸ºå§“åçš„æœ€å¤§é•¿åº¦ã€‚                                             |
| `textFilter`    | `string[]`                         | `[]`   | è‡ªå®šä¹‰éœ€è¦ä»åœ°å€ä¸­è¿‡æ»¤æ‰çš„é¢å¤–å…³é”®è¯ã€‚                             |
| `extraGovData`  | `{ province?, city?, area? }`      | `{}`   | é¢å¤–çš„è‡ªå®šä¹‰åœ°å€æ•°æ®ï¼Œç”¨äºè¡¥å……æˆ–è¦†ç›–å†…ç½®çš„çœå¸‚åŒºæ•°æ®ã€‚             |

### `ParseResult` æ¥å£

`parse` å‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«ä»¥ä¸‹å­—æ®µçš„å¯¹è±¡ï¼š

| å­—æ®µå         | ç±»å‹     | æè¿°           |
| -------------- | -------- | -------------- |
| `name`         | `string` | å§“å           |
| `phone`        | `string` | æ‰‹æœºå·         |
| `postalCode`   | `string` | é‚®ç¼–           |
| `province`     | `string` | çœä»½           |
| `city`         | `string` | åŸå¸‚           |
| `area`         | `string` | åŒº/å¿          |
| `detail`       | `string` | è¯¦ç»†åœ°å€       |
| `provinceCode` | `string` | çœä»½è¡Œæ”¿åŒºåˆ’ä»£ç  |
| `cityCode`     | `string` | åŸå¸‚è¡Œæ”¿åŒºåˆ’ä»£ç  |
| `areaCode`     | `string` | åŒº/å¿è¡Œæ”¿åŒºåˆ’ä»£ç |


## ğŸ’» æœ¬åœ°å¼€å‘ (Development)

1.  **å…‹éš†é¡¹ç›®**
    ```bash
    git clone <your-repo-url>
    cd address-parse
    ```

2.  **å®‰è£…ä¾èµ–**
    ```bash
    pnpm install
    ```

3.  **è¿è¡Œ Demo åº”ç”¨**
    æ­¤é¡¹ç›®çš„ä¸»åº”ç”¨æœ¬èº«å°±æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„åœ¨çº¿æ¼”ç¤ºã€‚
    ```bash
    pnpm dev
    ```

4.  **æ‰“åŒ…åº“æ–‡ä»¶**
    è¿è¡Œæ­¤å‘½ä»¤æ¥æ„å»ºå¯ä¾›å¤–éƒ¨ä½¿ç”¨çš„ UMD åº“æ–‡ä»¶ã€‚
    ```bash
    pnpm build:lib
    ```

## ğŸ“„ å¼€æºåè®® (License)

æœ¬é¡¹ç›®åŸºäº [MIT](./LICENSE) åè®®å¼€æºã€‚

[npm-image]: https://img.shields.io/npm/v/smart-address-parse.svg?style=flat-square
[npm-url]: https://www.npmjs.com/package/smart-address-parse
[license-image]: https://img.shields.io/npm/l/smart-address-parse.svg?style=flat-square
[license-url]: ./LICENSE
